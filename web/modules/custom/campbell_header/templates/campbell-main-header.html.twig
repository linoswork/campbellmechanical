{# Sticky white header that stays after the orange top bar scrolls away #}

<header id="cm-header"
  class="sticky top-0 z-50 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80 border-b border-gray-100">
  <div class="container mx-auto px-4 h-20 flex items-center justify-between gap-4">

    {# LEFT: Logo — update path if needed #}
    <a href="{{ path('<front>') }}" class="flex items-center gap-2 shrink-0">
      <span class="sr-only">Campbell Mechanical</span>
      <img src="/themes/custom/campbell/logo.svg" alt="" class="h-10 w-auto" />
    </a>

    {# CENTER: Main nav (tablet/desktop) #}
    <nav class="block">
      {{ menu }} {# <- render array; Drupal/Twig renders it #}
    </nav>

    {# RIGHT: Phone + CTA (tablet/desktop) #}
    <div class="hidden md:flex items-center gap-4">
      {% if phone %}
        <a href="tel:{{ phone|replace({' ': '', '.': '', '-': ''}) }}"
           class="text-sm font-medium hover:text-orange-600">{{ phone }}</a>
      {% endif %}
      <a href="{{ cta_url }}"
         class="inline-flex items-center rounded-xl bg-orange-600 text-white px-4 py-2 text-sm font-semibold hover:bg-orange-700">
        {{ cta_text }}
      </a>
    </div>

    {# Burger (phones only) #}
    <button id="cm-nav-toggle"
      class="md:hidden inline-flex items-center justify-center size-10 rounded-2xl border border-zinc-300"
      aria-controls="cm-mobile-nav" aria-expanded="false">
      <span class="sr-only">Toggle menu</span>☰
    </button>
  </div>

  {# Mobile drawer: menu + phone/cta #}
  <div id="cm-mobile-nav" class="hidden md:hidden border-t border-gray-100">
    <div class="container mx-auto px-4 py-3 space-y-3">
      {{ menu }}
      <div class="flex items-center justify-between pt-2">
        {% if phone %}
          <a href="tel:{{ phone|replace({' ': '', '.': '', '-': ''}) }}" class="font-medium">{{ phone }}</a>
        {% endif %}
        <a href="{{ cta_url }}"
           class="inline-flex items-center rounded-xl bg-orange-600 text-white px-3 py-2 text-sm font-semibold">
          {{ cta_text }}
        </a>
      </div>
    </div>
  </div>
</header>
